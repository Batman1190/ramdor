<!DOCTYPE html>
<html>
<head>
    <title>Authentication Callback</title>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
        // Initialize Supabase client
        const SUPABASE_URL = 'https://your-project-url.supabase.co';
        const SUPABASE_ANON_KEY = 'your-anon-key';
        const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        window.onload = async function() {
            // Get the hash parameters from the URL
            const hashParams = new URLSearchParams(window.location.hash.substring(1));
            
            if (hashParams.has('access_token')) {
                try {
                    // Set the session
                    const { data, error } = await supabase.auth.setSession({
                        access_token: hashParams.get('access_token'),
                        refresh_token: hashParams.get('refresh_token')
                    });

                    if (error) throw error;
                    
                } catch (error) {
                    console.error('Error setting session:', error);
                }
            }
            
            // Redirect back to main page
            window.location.href = 'https://batman1190.github.io/ramdor';
        }
    </script>
</head>
<body>
    <p>Completing sign in...</p>
</body>
</html>